function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define("spin",[],e):t.Spinner=e()}(this,function(){function t(t,e){var o,i=document.createElement(t||"div");for(o in e)i[o]=e[o];return i}function e(t){for(var e=1,o=arguments.length;e<o;e++)t.appendChild(arguments[e]);return t}function o(t,e){var o,i,n=t.style;if(void 0!==n[e=e.charAt(0).toUpperCase()+e.slice(1)])return e;for(i=0;i<d.length;i++)if(void 0!==n[o=d[i]+e])return o}function i(t,e){for(var i in e)t.style[o(t,i)||i]=e[i];return t}function n(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)void 0===t[i]&&(t[i]=o[i])}return t}function r(t,e){return"string"==typeof t?t:t[e%t.length]}function s(t){this.opts=n(t||{},s.defaults,f)}var a,l,c,d=["webkit","Moz","ms","O"],p={},f={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#e0180c",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:100,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(s.defaults={},n(s.prototype,{spin:function(e){this.stop();var o=this,n=o.opts,r=o.el=t(null,{className:n.className});if(i(r,{position:n.position,width:0,zIndex:n.zIndex,left:n.left,top:n.top}),e&&e.insertBefore(r,e.firstChild||null),r.setAttribute("role","progressbar"),o.lines(r,o.opts),!a){var s,l=0,c=(n.lines-1)*(1-n.direction)/2,d=n.fps,p=d/n.speed,f=(1-n.opacity)/(p*n.trail/100),u=p/n.lines;!function t(){l++;for(var e=0;e<n.lines;e++)s=Math.max(1-(l+(n.lines-e)*u)%p*f,n.opacity),o.opacity(r,e*n.direction+c,s,n);o.timeout=o.el&&setTimeout(t,~~(1e3/d))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(o,n){function s(e,o){return i(t(),{position:"absolute",width:n.scale*(n.length+n.width)+"px",height:n.scale*n.width+"px",background:"#e0180c",boxShadow:o,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*d+n.rotate)+"deg) translate("+n.scale*n.radius+"px,0)",borderRadius:(n.corners*n.scale*n.width>>1)+"px"})}for(var c,d=0,f=(n.lines-1)*(1-n.direction)/2;d<n.lines;d++)c=i(t(),{position:"absolute",top:1+~(n.scale*n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:a&&(u=n.opacity,h=n.trail,y=f+d*n.direction,m=n.lines,g=["opacity",h,~~(100*u),y,m].join("-"),v=.01+y/m*100,w=Math.max(1-(1-u)/h*(100-v),u),b=a.substring(0,a.indexOf("Animation")).toLowerCase(),x=b&&"-"+b+"-"||"",p[g]||(l.insertRule("@"+x+"keyframes "+g+"{0%{opacity:"+w+"}"+v+"%{opacity:"+u+"}"+(v+.01)+"%{opacity:1}"+(v+h)%100+"%{opacity:"+u+"}100%{opacity:"+w+"}}",l.cssRules.length),p[g]=1),g+" "+1/n.speed+"s linear infinite")}),n.shadow&&e(c,i(s(0,"0 0 4px #000"),{top:"2px"})),e(o,e(c,s(r(n.color,d),"0 0 1px rgba(0,0,0,.1)")));var u,h,y,m,g,v,w,b,x;return o},opacity:function(t,e,o){e<t.childNodes.length&&(t.childNodes[e].style.opacity=o)}}),"undefined"!=typeof document){c=t("style",{type:"text/css"}),e(document.getElementsByTagName("head")[0],c),l=c.sheet||c.styleSheet;var u=i(t("group"),{behavior:"url(#default#VML)"});!o(u,"transform")&&u.adj?function(){function o(e,o){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',o)}l.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(t,n){function s(){return i(o("group",{coordsize:d+" "+d,coordorigin:-c+" "+-c}),{width:d,height:d})}function a(t,a,l){e(f,e(i(s(),{rotation:360/n.lines*t+"deg",left:~~a}),e(i(o("roundrect",{arcsize:n.corners}),{width:c,height:n.scale*n.width,left:n.scale*n.radius,top:-n.scale*n.width>>1,filter:l}),o("fill",{color:r(n.color,t),opacity:n.opacity}),o("stroke",{opacity:0}))))}var l,c=n.scale*(n.length+n.width),d=2*n.scale*c,p=-(n.width+n.length)*n.scale*2+"px",f=i(s(),{position:"absolute",top:p,left:p});if(n.shadow)for(l=1;l<=n.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)a(l);return e(t,f)},s.prototype.opacity=function(t,e,o,i){var n=t.firstChild;i=i.shadow&&i.lines||0,n&&e+i<n.childNodes.length&&(n=(n=(n=n.childNodes[e+i])&&n.firstChild)&&n.firstChild)&&(n.opacity=o)}}():a=o(u,"animation")}return s});