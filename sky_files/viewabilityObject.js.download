function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var a=i[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}define(["viewability"],function(e){var i=function(){"use strict";function i(e,t,a,n,c){_classCallCheck(this,i),this.threshold=a,this.calculate(e,n,c),this.viewabilityOn=!1,this.timer=null,this.callback=t}return _createClass(i,[{key:"checkImage",value:function(e){return"IMG"==e.nodeName}},{key:"checkLoadImage",value:function(e){return!!e.complete&&0!==e.naturalWidth}},{key:"calculateViewabilityTime",value:function(i){this.v=e.vertical(i),this.h=e.horizontal(i),this.combined=this.h.value*this.v.value,this.combined>this.threshold?(this.viewabilityOn=!0,t.push(i)):this.viewabilityOn=!1}},{key:"checkViewability",value:function(e){this.checkImage(e)?this.checkLoadImage(e)&&this.calculateViewabilityTime(e):this.calculateViewabilityTime(e),this.sendSaveEvent()}},{key:"calculate",value:function(e,i,t){var a=this;void 0!==i?void 0!==t?window.addEventListener(t,function(){null!==a.timer&&(clearTimeout(a.timer),a.startOfElapsedTime=Date.now()),a.timer=window.setTimeout(function(){a.checkViewability(e)},i)},!1):window.setTimeout(function(){a.checkViewability(e)},i):this.checkViewability(e)}},{key:"sendSaveEvent",value:function(){var e=this;setTimeout(function(){e.saveEvent()},0)}},{key:"saveEvent",value:function(){0!=t.length&&(this.callback(t),t=[])}}]),i}(),t=[];function a(e,t,a,n,c){var l=[];e.forEach(function(e){var o=Math.floor(1e3*Math.random());o=new i(e,t,a,n,c),l.push(o)})}acc.trackViewabilityObject={trackViewabilityObject:function(e,i){new a(e,i,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)}}});